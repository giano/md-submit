<link rel="import" href="../polymer/polymer.html">
<link rel="import" href="../paper-button/paper-button.html">
<link rel="import" href="../paper-material/paper-material-shared-styles.html">

<dom-module id="sv-submit">
    <template strip-whitespace>
        <style include="paper-material-shared-styles">
          :host {
            display: inline-block;
            border-radius: 3px;
          }

          :host paper-button {
            padding: 0 !important;
          }

          :host paper-button .content.paper-button {
            padding: 0;
          }

          :host paper-button button {
            padding: 0.7em 0.57em;
            background-color: transparent;
            border-color: transparent;
            margin: 0 !important;
            min-width: 5.14em;
            font: inherit;
            text-transform: uppercase;
            border: 0;
            @apply(--paper-font-common-base);
            @apply(--paper-button);
            outline: none;
          }

          :host paper-button button:focus {
            outline: none;
          }
          :host paper-button button::-moz-focus-inner {
            border: 0;
          }

        </style>
        <paper-button id="paperButton">
            <button id="submitButton">
                <content></content>
            </button>
        </paper-button>
    </template>
</dom-module>
<script>
    Polymer({

        is: 'sv-submit',

        properties: {
            cssClass: {
                type: String,
                value: null
            },
            raised: {
                type: Boolean,
                value: false
            },
            elevation: {
                type: Number,
                value: 1
            }
        },

        listeners: {

        },

        ready: function() {
            this._setButtonClass();
            if (this.raised) this._setRaisedButton();
        },

        _setButtonClass: function() {
            if (this.cssClass) {
                var css = this.cssClass.split(' ');
                var button = this.$.submitButton;
                css.forEach(function(c) {
                    button.classList.add(c);
                });
            }
        },

        _setRaisedButton: function() {
            this.$.paperButton.setAttribute('elevation', this.elevation);
            this.$.paperButton.setAttribute('raised', '');
        },

        _onClick: function() {
            var button = this.$.submitButton;
            button.click();
        },

        setButtonCss: function(val) {
            this.cssClass = val;
            this._setButtonClass();
        }
    });
</script>
